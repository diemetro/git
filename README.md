# git
git docs
Шпаргалка по GIT


git init
git add .
git commit -m "Comment"

Создать новую ветку newbranch и переключиться на нее
git checkout -b newbranch

Внести изменения и сделать commit в ветку newbranch 

переключиться на ветку main
git checkout main

Слияние изменений из ветки newbranch в main
git merge newbranch

Выбрать определенный коммит для слияния
git cherry-pick sha1commit


Удалить ветку 
git branch -d branchname

Удалить ветку на удаленном репозитории
git push origin --delete branchname

Отменить последний коммит
git revert HEAD

Отменить коммит по sha1

git revert sha1commit

git reset --hard HEAD~1

HEAD~1 означает один коммит до HEAD, т.е. до текущего положения. 
Стоит заметить, что это «ядерный» способ, который отменит все 
изменения. Если вам нужно сохранить всё, что вы сделали, но еще не 
успели закоммитить, используйте git reset --soft HEAD~1

Примеры git revert
git revert умеет отменять не только выбранный коммит, но поддерживает и более сложные варианты:

Откатываем конкретные коммиты перечисляя их хэши через пробел (в предельном случае таким способом можно откатить 1 коммит), например, откатить список коммитов (вы можете получить их хэши в истории изменений):

git revert a867b4af 25eee4ca 0766c053

Можно откатывать используя смешения от текущего состояния HEAD (как мы рассматривали тут) -- например диапазон отностительно HEAD:

git revert HEAD~2..HEAD

Диапазон с использованием хэшей для откатываемых коммитов (всё между ними по времени -- включительно), можно задать такой вроде:

git revert a867b4af..0766c053

Откатываем merge commit -- для этого нужно выполнить комадну формата:

git revert -m 1 <merge_commit_sha>
(проверьте какой именно из родителей мердж-коммита является "первым", м.б. вам нужен 2-ой(link is external))

Убедитесь, что это это стоит делать, если речь идёт о развороте на сервере тех изменений, что сейчас не нужны, но понадобятся в будущем, то просто выполните чекаут нужного, более старого коммита.




Переименовать локальную ветку

git branch -m oldname newname

Создать новую ветку на сервере из текущей 
локальной ветки
git config --global push.default currentgit push -u


Удалённые репозитории
Наиболее популярные команды:
● git remote add <имя> <url> — добавляет удалённый репозиторий с заданным 
именем;
● git remote remove <имя> — удаляет удалённый репозиторий с заданным 
именем;
● git remote rename <старое имя> <новое имя> — переименовывает 
удалённый репозиторий;
● git remote set-url <имя> <url> — присваивает репозиторию с именем новый 
адрес;
● git remote show <имя> — показывает информацию о репозитории.


Привязка к удалённой ветке:
● git branch -u <имя удалённого репозитория>/<удалённая ветка> — 
привязывает текущую ветку к указанной удалённой ветке;

git checkout <удалённая ветка> — создаёт локальную ветку с таким же 
именем, как у удалённой, и начинает её отслеживать.

git checkout -b <ветка> <имя удалённого репозитория>/<удалённая ветка> — 
создаёт новую локальную ветку и начинает отслеживать удалённую;

git log --oneline

git log --pretty-reference
